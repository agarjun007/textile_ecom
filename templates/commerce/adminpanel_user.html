{% extends 'commerce/base_admin.html'%} 

{%block title%} User Management {%endblock%}


{% block head %}


{% endblock %} 

{% block content%}
<div class="container-xl">
    <div class="table-responsive">
        <div style="padding-left: 15rem; display: flex; justify-content: flex-end;
        padding-top: 3rem;"> <a href="{%url 'create_user'%}"><button type="button" class="btn btn-success btn-sm">ADD User</button></a>

        </div>
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-8"><h2>Customer <b>Details</b></h2></div>                    
                    
                </div>
            </div>
            <table id="myTable" class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Name </th>
                        <th>Email </th>
                        <th>Username</th>
                        <th>Mobile Number</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                
                <tbody>
                    {% for x in table_data %}
                    <tr>
                        
                        <td>{{forloop.counter}}</td>
                        <td>{{x.first_name}}</td>
                        <td>{{x.email}}</td>
                        <td>{{x.username}}</td>
                        <td>{{x.last_name}}</td>
                        {% if x.is_active == True %}
                        <td>Active</td>
                        {% else %}
                        <td>Blocked</td>
                        {% endif %}

                        <td>
                           <a href="{% url 'edit_user' x.id %}" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
                            <a href="{% url 'delete_user' x.id %}" class="delete" title="Delete" data-toggle="tooltip"><i Onclick= "return confirm('Are you sure you want to delete {{x.first_name}} ?')" class="material-icons ">&#xE872;</i></a>
                            <a href="{% url 'block_user' x.id %}" id="block" class="block" title="Block" data-toggle="tooltip"><i style="color: red;" Onclick= "return confirm('Are you sure you want to continue?')" class="fas fa-ban" ></i></a>

                        </td>
                    </tr>
                       {% endfor %}  
                </tbody>
                
            </table>
            
        </div>
    </div>  
  </div>   
  
   {% endblock %}

   {% block script%}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
    integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
    crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
 <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>

 <script>
   
    $(document).ready(function() {
     $('#myTable').DataTable();
    
 } );
 function block(){
    return confirm('Are you sure you want to continue {{x.first_name}} ?')
         console.log('clicked')
     }
    </script>
{%endblock%}